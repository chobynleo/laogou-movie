webpackJsonp([0],{0:function(e,t,i){e.exports=i(1)},1:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var s=i(2),n=o(s),l=i(4),a=o(l);$.support.cors=!0,new n["default"]({el:"#fliterMovies",components:{ChooseMovies:a["default"]}}),$(function(){(function(){var e=$(".col-md-6").width(),t=(function(){function i(t){var i=(c-1)*e;$("#screenBody").is(":animated")||("right"===t?s===c?(s=1,$("#scrollMoives .side-index").html(s),$("#screenBody").animate({left:0},500)):(s++,$("#scrollMoives .side-index").html(s),$("#screenBody").animate({left:"-="+e},500)):1===s?(s=c,$("#scrollMoives .side-index").html(s),$("#screenBody").animate({left:"-="+i},500)):(s--,$("#scrollMoives .side-index").html(s),$("#screenBody").animate({left:"+="+e},500)))}var o=($("#scrollMoives .panel"),$("#headerNow span")),s=1,n=$("#scrollMoives .slide-prev"),l=$("#scrollMoives .slide-next"),a=$("#scrollMoives .thumbnail"),r=a.length,c=Math.ceil(r/4);$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);var d=a.outerWidth(!0)-a.outerWidth(),u=(e-4*d)/4;a.width(u),o.on("click",function(){var i=$(this).text(),n="/?galleryName="+encodeURIComponent(i);t(n,"GET",function(t){var n=t.data||[],l=n.movies,d=n.movies.length;if($("#headerNow a").attr("href","/movie/results?cat="+n._id+"&p=0").text(n.name),"即将上映"===i?o.text("正在上映"):o.text("即将上映"),d<a.length)$("#scrollMoives .thumbnail:gt("+(d-1)+")").remove();else if(d>a.length){for(var f=a.length;d>f;f++)$("#screenBody").append('<div class="thumbnail"><a href="" target="_blank"><img src="" alt="" /></a><div class="caption"><h5></h5><p><a class="btn btn-primary" href="" role="button">观看预告片</a></p></div></div>');$("#screenBody .thumbnail:gt("+(a.length-1)+")").width(u)}a=$("#scrollMoives .thumbnail"),r=a.length,c=Math.ceil(r/4),$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);for(var p=0;p<a.length;p++)if(l[p]){$(a[p]).find("a").attr("href","/movie/"+l[p]._id),$(a[p]).find("h5").html(l[p].title);var m=$(a[p]).find("img");l[p].poster&&(l[p].poster.indexOf("http:")>-1?m.attr("src",l[p].poster).attr("alt",l[p].poster):m.attr("src","/upload/movie/"+l[p].poster).attr("alt",l[p].poster))}s>c&&(s=c,$("#scrollMoives .side-index").html(s),$("#screenBody").animate({left:-e*(s-1)},0))})}),l.on("click",function(){i("right")}),n.on("click",function(){i("left")});var f=setInterval(function(){i("right")},5e3);$("#scrollMoives").on("mouseover",function(){clearInterval(f)}).on("mouseout",function(){f=setInterval(function(){i("right")},5e3)})}(),function(){var t=1,i=$("#galleryFrames .slide-prev"),o=$("#galleryFrames .slide-next"),s=$("#galleryFrames li").length,n=$("#galleryFrames ul"),l=$("#galleryFrames .slide-item");$("#galleryFrames .side-max").html(s-2),n.width(e*s),n.css("left",-e),l.width(e),o.on("click",function(){r("right")}),i.on("click",function(){r("left")});var a=setInterval(function(){r("right")},5e3);$("#galleryFrames").on("mouseover",function(){clearTimeout(a)}).on("mouseout",function(){a=setInterval(function(){r("right")},5e3)});var r=function(i){n.is(":animated")||("right"===i?(t++,$("#galleryFrames .side-index").html(t),n.animate({left:"-="+e},500),t===s-1&&(t=1,$("#galleryFrames .side-index").html(t),n.animate({left:-e+"px"},0))):(t--,$("#galleryFrames .side-index").html(t),n.animate({left:"+="+e},500),0===t&&(t=s-2,$("#galleryFrames .side-index").html(t),n.animate({left:-(e*(s-2))+"px"},0))))}}(),function(){var e=$("#citySearch"),i=$("#citiesList"),o=$("#citySug"),s=$("#citySug .city-suggestion-list"),n=$("#citySug .auto-tip"),l=$("#citySug input");i.outerWidth(e.width()+o.width()),e.children("span").on("click",function(){"none"===i.css("display")?i.css("display","block"):i.css("display","none")}),$(".cities-list-hd").on("click","li",function(){var e=$(this).attr("index");$(this).addClass("on").siblings().removeClass("on"),i.find(".cities-list-item").eq(e-1).addClass("active").siblings().removeClass("active")}),$("#citiesList .cities-list-item").on("click","a",function(){e.children("span").html($(this).html()),i.css("display","none"),l.val("")}),l.on("focus",function(){a(),i.css("display","none")}),l.keyup(function(e){a()}),s.on("mousedown","a",function(){l.val($(this).html()),s.css("display","none")}),l.on("blur",function(){s.css("display","none")});var a=function(){var i=e.children("span").text(),o=l.val(),a="/?cityName="+encodeURIComponent(i)+"&&search="+encodeURIComponent(o);t(a,"GET",function(e){var t=e||[];n.html("");for(var i=0;i<t.length;i++)n.append('<li><a href="javascript:;">'+t[i]+"</a></li>");s.css("display","block")})}}(),function(e,t,i){$.ajax({url:e,cache:!0,type:t,crossDomain:!0}).done(i)})})()})},4:function(e,t,i){var o,s;i(5),o=i(9),s=i(56),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},5:function(e,t,i){var o=i(6);"string"==typeof o&&(o=[[e.id,o,""]]);i(8)(o,{});o.locals&&(e.exports=o.locals)},6:function(e,t,i){t=e.exports=i(7)(),t.push([e.id,".fliter-movies .class-top ul{list-style:none;padding:0}.fliter-movies .more{display:block;width:100%;height:34px;line-height:34px;text-align:center;font-size:14px;background-color:#f7f7f7}.fliter-movies .more:hover{text-decoration:none;background-color:#eee}.fliter-movies .more:link{text-decoration:none;color:#37a}.fliter-movies .more:active{text-decoration:none;color:#669}",""])},9:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(10),n=o(s),l=i(48),a=o(l),r=i(53),c=o(r);t["default"]={name:"ChooseMovies",components:{ChooseMoviesTitle:a["default"],ChooseMovieItem:c["default"]},data:function(){return{title:["热门","最新","经典","豆瓣高分","冷门佳片","华语","欧美","韩国"],selected:"热门",dataList:[],currentData:{}}},created:function(){this.getData(this.selected)},watch:{selected:"getData"},methods:{getData:function(e){var t=this,i=!0,o=!1,s=void 0;try{for(var l,a=(0,n["default"])(this.dataList);!(i=(l=a.next()).done);i=!0){var r=l.value;if(r.name.includes(e))return void(this.currentData=r)}}catch(c){o=!0,s=c}finally{try{!i&&a["return"]&&a["return"]()}finally{if(o)throw s}}var d="/?fliterName="+encodeURIComponent(e+"电影");$.get(d,function(e){t.currentData=e.data,t.dataList.push(e.data)})}}}},48:function(e,t,i){var o,s;i(49),o=i(51),s=i(52),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},49:function(e,t,i){var o=i(50);"string"==typeof o&&(o=[[e.id,o,""]]);i(8)(o,{});o.locals&&(e.exports=o.locals)},50:function(e,t,i){t=e.exports=i(7)(),t.push([e.id,".class-top li{display:inline}",""])},51:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ChooseMoviesTitle",props:{title:Array,selected:String},methods:{handleTitleChange:function(e){e!==this.selected&&(this.selected=e)}}}},52:function(e,t){e.exports="<li v-for=\"titleItem of title\"><button @click=handleTitleChange(titleItem) :class=\"titleItem === selected ? 'btn btn-primary' : 'btn btn-default'\">{{ titleItem }}</button></li>"},53:function(e,t,i){var o,s;o=i(54),s=i(55),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ChooseMovieItem",props:{data:Object}}},55:function(e,t){e.exports='<div v-for="item of data.movies" track-by=_id class="col-md-3 col-xs-4"><div class=thumbnail><a href="/movie/{{ item._id }}" target=_blank><img :src=item.poster :alt=item.title /></a><div class=caption><h5>{{ item.title }}</h5></div></div></div>'},56:function(e,t){e.exports='<div class=screen><div class=class-top><span class=active>选电影</span><i>&nbsp;/&nbsp;</i><span>选电视剧</span><hr/><ul><choose-movies-title :title=title :selected.sync=selected></choose-movies-title></ul><hr/><div class=screen-body><div class="panel panel-default"><div id=classBody class="panel-body screen-body"><choose-movie-item :data=currentData></choose-movie-item></div><a href=javascript:; role=button class=more>加载更多</a></div></div></div></div>'}});
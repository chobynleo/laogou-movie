webpackJsonp([0],{0:function(e,t,i){e.exports=i(1)},1:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var n=i(2),s=o(n),a=i(4),l=o(a);$.support.cors=!0,new s["default"]({el:"#fliterMovies",components:{ChooseMovies:l["default"]}}),$(function(){(function(){var e=$(".col-md-6").width(),t=(function(){function i(t){var i=(c-1)*e;$("#screenBody").is(":animated")||("right"===t?n===c?(n=1,$("#scrollMoives .side-index").html(n),$("#screenBody").animate({left:0},500)):(n++,$("#scrollMoives .side-index").html(n),$("#screenBody").animate({left:"-="+e},500)):1===n?(n=c,$("#scrollMoives .side-index").html(n),$("#screenBody").animate({left:"-="+i},500)):(n--,$("#scrollMoives .side-index").html(n),$("#screenBody").animate({left:"+="+e},500)))}var o=($("#scrollMoives .panel"),$("#headerNow span")),n=1,s=$("#scrollMoives .slide-prev"),a=$("#scrollMoives .slide-next"),l=$("#scrollMoives .thumbnail"),r=l.length,c=Math.ceil(r/4);$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);var d=l.outerWidth(!0)-l.outerWidth(),u=(e-4*d)/4;l.width(u),o.on("click",function(){var i=$(this).text(),s="/?galleryName="+encodeURIComponent(i);t(s,"GET",function(t){var s=t.data||[],a=s.movies,d=s.movies.length;if($("#headerNow a").attr("href","/movie/results?cat="+s._id+"&p=0").text(s.name),"即将上映"===i?o.text("正在上映"):o.text("即将上映"),d<l.length)$("#scrollMoives .thumbnail:gt("+(d-1)+")").remove();else if(d>l.length){for(var f=l.length;f<d;f++)$("#screenBody").append('<div class="thumbnail"><a href="" target="_blank"><img src="" alt="" /></a><div class="caption"><h5></h5><p><a class="btn btn-primary" href="" role="button">观看预告片</a></p></div></div>');$("#screenBody .thumbnail:gt("+(l.length-1)+")").width(u)}l=$("#scrollMoives .thumbnail"),r=l.length,c=Math.ceil(r/4),$("#scrollMoives .side-max").html(c),$("#screenBody").width(e*c);for(var p=0;p<l.length;p++)if(a[p]){$(l[p]).find("a").attr("href","/movie/"+a[p]._id),$(l[p]).find("h5").html(a[p].title);var m=$(l[p]).find("img");a[p].poster&&(a[p].poster.indexOf("https:")>-1||a[p].poster.indexOf("http:")>-1?m.attr("src",a[p].poster).attr("alt",a[p].title):m.attr("src","/upload/movie/"+a[p].poster).attr("alt",a[p].title))}n>c&&(n=c,$("#scrollMoives .side-index").html(n),$("#screenBody").animate({left:-e*(n-1)},0))})}),a.on("click",function(){i("right")}),s.on("click",function(){i("left")});var f=setInterval(function(){i("right")},5e3);$("#scrollMoives").on("mouseover",function(){clearInterval(f)}).on("mouseout",function(){f=setInterval(function(){i("right")},5e3)})}(),function(){var t=1,i=$("#galleryFrames .slide-prev"),o=$("#galleryFrames .slide-next"),n=$("#galleryFrames li").length,s=$("#galleryFrames ul"),a=$("#galleryFrames .slide-item");$("#galleryFrames .side-max").html(n-2),s.width(e*n),s.css("left",-e),a.width(e),o.on("click",function(){r("right")}),i.on("click",function(){r("left")});var l=setInterval(function(){r("right")},5e3);$("#galleryFrames").on("mouseover",function(){clearTimeout(l)}).on("mouseout",function(){l=setInterval(function(){r("right")},5e3)});var r=function(i){s.is(":animated")||("right"===i?(t++,$("#galleryFrames .side-index").html(t),s.animate({left:"-="+e},500),t===n-1&&(t=1,$("#galleryFrames .side-index").html(t),s.animate({left:-e+"px"},0))):(t--,$("#galleryFrames .side-index").html(t),s.animate({left:"+="+e},500),0===t&&(t=n-2,$("#galleryFrames .side-index").html(t),s.animate({left:-(e*(n-2))+"px"},0))))}}(),function(){var e=$("#citySearch"),i=$("#citiesList"),o=$("#citySug"),n=$("#citySug .city-suggestion-list"),s=$("#citySug .auto-tip"),a=$("#citySug input");i.outerWidth(e.width()+o.width()),e.children("span").on("click",function(){"none"===i.css("display")?i.css("display","block"):i.css("display","none")}),$(".cities-list-hd").on("click","li",function(){var e=$(this).attr("index");$(this).addClass("on").siblings().removeClass("on"),i.find(".cities-list-item").eq(e-1).addClass("active").siblings().removeClass("active")}),$("#citiesList .cities-list-item").on("click","a",function(){e.children("span").html($(this).html()),i.css("display","none"),a.val("")}),a.on("focus",function(){l(),i.css("display","none")}),a.keyup(function(e){l()}),n.on("mousedown","a",function(){a.val($(this).html()),n.css("display","none")}),a.on("blur",function(){n.css("display","none")});var l=function(){var i=e.children("span").text(),o=a.val(),l="/?cityName="+encodeURIComponent(i)+"&&search="+encodeURIComponent(o);t(l,"GET",function(e){var t=e||[];s.html("");for(var i=0;i<t.length;i++)s.append('<li><a href="javascript:;">'+t[i]+"</a></li>");n.css("display","block")})}}(),function(e,t,i){$.ajax({url:e,cache:!0,type:t,crossDomain:!0}).done(i)})})()})},4:function(e,t,i){var o,n,s={};i(5),o=i(9),n=i(56),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},5:function(e,t,i){var o=i(6);"string"==typeof o&&(o=[[e.id,o,""]]);i(8)(o,{});o.locals&&(e.exports=o.locals)},6:function(e,t,i){t=e.exports=i(7)(),t.push([e.id,".fliter-movies .class-top ul{list-style:none;padding:0}.fliter-movies .more{display:block;width:100%;height:34px;line-height:34px;text-align:center;font-size:14px;background-color:#f7f7f7}.fliter-movies .more:hover{text-decoration:none;background-color:#eee}.fliter-movies .more:link{text-decoration:none;color:#37a}.fliter-movies .more:active{text-decoration:none;color:#669}",""])},9:function(e,t,i){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),s=o(n),a=i(48),l=o(a),r=i(53),c=o(r);t["default"]={name:"ChooseMovies",components:{ChooseMoviesTitle:l["default"],ChooseMovieItem:c["default"]},data:function(){return{title:["热门","最新","经典","豆瓣高分","冷门佳片","华语","欧美","韩国"],selected:"热门",dataList:[],currentData:{}}},created:function(){this.getData(this.selected)},watch:{selected:"getData"},methods:{getData:function(e){var t=this,i=!0,o=!1,n=void 0;try{for(var a,l=(0,s["default"])(this.dataList);!(i=(a=l.next()).done);i=!0){var r=a.value;if(r.name.includes(e))return void(this.currentData=r)}}catch(c){o=!0,n=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw n}}var d="/?fliterName="+encodeURIComponent(e+"电影");$.get(d,function(e){t.currentData=e.data,t.dataList.push(e.data)})}}}},48:function(e,t,i){var o,n,s={};i(49),o=i(51),n=i(52),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},49:function(e,t,i){var o=i(50);"string"==typeof o&&(o=[[e.id,o,""]]);i(8)(o,{});o.locals&&(e.exports=o.locals)},50:function(e,t,i){t=e.exports=i(7)(),t.push([e.id,".class-top li{display:inline}",""])},51:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ChooseMoviesTitle",props:{title:Array,selected:String},methods:{handleTitleChange:function(e){e!==this.selected&&(this.selected=e)}}}},52:function(e,t){e.exports="<li v-for=\"titleItem of title\"><button @click=handleTitleChange(titleItem) :class=\"titleItem === selected ? 'btn btn-primary' : 'btn btn-default'\">{{ titleItem }}</button></li>"},53:function(e,t,i){var o,n,s={};o=i(54),n=i(55),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]);var a="function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports;n&&(a.template=n),a.computed||(a.computed={}),Object.keys(s).forEach(function(e){var t=s[e];a.computed[e]=function(){return t}})},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ChooseMovieItem",props:{data:Object}}},55:function(e,t){e.exports='<div v-for="item of data.movies" track-by=_id class="col-md-3 col-xs-4"><div class=thumbnail><a href="/movie/{{ item._id }}" target=_blank><img :src=item.poster :alt=item.title /></a><div class=caption><h5>{{ item.title }}</h5></div></div></div>'},56:function(e,t){e.exports='<div class=screen><div class=class-top><span class=active>选电影</span><i>&nbsp;/&nbsp;</i><span>选电视剧</span><hr/><ul><choose-movies-title :title=title :selected.sync=selected></choose-movies-title></ul><hr/><div class=screen-body><div class="panel panel-default"><div id=classBody class="panel-body screen-body"><choose-movie-item :data=currentData></choose-movie-item></div><a href=javascript:; role=button class=more>加载更多</a></div></div></div></div>'}});